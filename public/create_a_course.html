<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/profile.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Roboto+Slab:300,400" rel="stylesheet">
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="css/magnific-popup.css">

	<!-- Owl Carousel  -->
	<link rel="stylesheet" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="css/owl.theme.default.min.css">

	<!-- Flexslider  -->
	<link rel="stylesheet" href="css/flexslider.css">

	<!-- Pricing -->
	<link rel="stylesheet" href="css/pricing.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/form.css">
  <style>
    /* .change-card{
      min-height: 64vh;
    } */
  </style>

</head>
<body>
     
	<nav class="fh5co-nav" role="navigation">
		
		<div class="top-menu">
			<div class="container">
				<div class="row">
					<div class="col-xs-3">
						<div id="fh5co-logo"><a href="index.html"><i class="icon-study"></i>Study Sphynx<span>.</span></a></div>
					</div>
					<div class="col-xs-10 text-right menu-1">
						<ul>
							<li class="active"><a href="allcourses.html"><b>All Courses</b></a></li>
							<!-- <li><a href="courses.html"><b>Recent Courses</b></a></li> -->
							<!-- <li><a href="teacher.html">Teacher</a></li> -->
							<li><a href="mycourses.html"><b>My courses</b></a></li>
              <li><a href="mynotes.html"><b>My Notes</b></a></li>

							<li><a href="profile.html"><b>My profile</b></a></li>
                            <li><a href="create_a_course.html"><b>Create a course</b></a></li>
                            <li><a href="calender.html"><b>Calender</b></a></li>

							&nbsp;
                            <li class="btn-cta LOGOUT"><a href="#"><span>Logout</span></a></li>

						</ul>
					</div>
				</div>
				
			</div>
		</div>
	</nav>
    <div class="container">
        <div class="main-body">
        
              <!-- Breadcrumb -->
              <nav aria-label="breadcrumb" class="main-breadcrumb">
                <ol class="breadcrumb">
                  <!-- <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                  <li class="breadcrumb-item"><a href="javascript:void(0)">User</a></li>
                  <li class="breadcrumb-item active" aria-current="page">User Profile</li> -->
                </ol>
              </nav>
          <h1> Create a course </h1>



        <div class="container1">

           <div class="item1"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQbfqC-oHC_30DesHfGcnQ12MNDiewrzy2XnA&usqp=CAU" alt="project"></div>
           <br><br>
           <div class="item">
                    <form class="row g-3 create-course">
                          <div class="col-md-8">
                            <label for="name" class="form-label">Name of the Course</label>
                            <input type="text" class="form-control" id="name">
                          </div>
                          
                          <div class="col-md-12">
                            <label for="Description" class="form-label">Description of the Course</label>
                            <input type="text" class="form-control" id="Description">
                          </div>
                          <div class="col-md-12">
                            <label for="Tags" class="form-label">Tags</label>
                            <input type="text" class="form-control" id="Tags" placeholder="JS,HTML,CSS,UI,UX">
                          </div>

                          <div class="h3">ADD SEGMENTS</div>
                               <div class="d-flex flex-column bd-highlight mb-3">
                                      <div class="p-2 bd-highlight">
                                          <label for="Title" class="form-label">Title of the topic</label>
                                          <input type="text" class="form-control" id="title">
                                      </div>
                                      <div class="p-2 bd-highlight">
                                          <label for="Description-topic" class="form-label">Description of the Topic</label>
                                          <input type="text" class="form-control" id="Description-topic">
                                      </div>
                                      <div class="p-2 bd-highlight">
                                           <label for="link" class="form-label">Link</label>
                                           <input type="url" class="form-control" id="Link">
                                      </div>
                                      <div class="p-2 bd-highlight">
                                           <label for="assessmentlink" class="form-label">Assessment link</label>
                                           <input type="url" class="form-control" id="assessmentlink">
                                      </div>
                                       <div class="p-2 bd-highlight">
                                            <label for="Solutionlink" class="form-label">Solution Link</label>
                                            <input type="url" class="form-control" id="Solutionlink">
                                      </div>

                          </div>
                          <button type="submit" class="btn btn-primary">Add Course</button>


                          
                    </form>
           </div>

        </div>



</div>
         
        <script>
			async function connect(d1) {
          const res = await fetch(`/api/course/add`, {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify(d1)
          });

          const data = await res.json();
          return data;
      }

      // async function connection(data) {

      // }

			document.querySelector('.create-course').addEventListener('submit', async (e)=> 
			{
				e.preventDefault();
				console.log('creationnn');
				let name = document.querySelector('#name').value;
				let description = document.querySelector('#Description').value;
				let tags = document.querySelector('#Tags').value;
				let title = document.querySelector('#title').value;
				let descTopic = document.querySelector('#Description-topic').value;
				let link = document.querySelector('#Link').value;
				let assessmentLink = document.querySelector('#assessmentlink').value;
				let solLink = document.querySelector('#Solutionlink').value;

				console.log(name, description, tags, title, descTopic, link, assessmentLink, solLink);
				let segments = {
					title,
					description,
					link,
					assessmentLink,
					solutionlink: solLink
				}
				let data = await connect({name, description, tags, segments, flashcards:[], notes:'', rating:4});
        window.location.href = data.redirect;
			})
		</script>
        <script src="js/logout.js"></script>
</body>
</html>